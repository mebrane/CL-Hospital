drop table cl_estudio; drop table cl_cita; drop table cl_usuario; drop table cl_historial; drop table cl_empleado; drop table cl_antecedente; drop table cl_paciente; drop table cl_tipodocumento; commit; create table cl_antecedente ( ante_id NUMBER not null , ante_quir VARCHAR2 (150) , ante_pato VARCHAR2 (150) , ante_aler VARCHAR2 (150) , ante_fami VARCHAR2 (150) , ante_otro VARCHAR2 (150) , paci_id NUMBER not null ) ; alter table cl_antecedente add constraint cl_antecedente_pk primary key ( ante_id ) ; create table cl_cita ( cita_id NUMBER not null , cita_fech DATE not null , paci_id NUMBER not null , empl_id NUMBER not null , hist_id NUMBER not null ) ; alter table cl_cita add constraint cl_cita_pk primary key ( cita_id ) ; create table cl_empleado ( empl_id NUMBER not null , tdoc_id NUMBER not null , empl_docu VARCHAR2 (50) not null , empl_nomb VARCHAR2 (50) not null , empl_apel VARCHAR2 (50) not null , empl_tipo CHAR (1) not null , empl_espe VARCHAR2 (50) , empl_fnac date, empl_telf VARCHAR2 (20) , empl_dire VARCHAR2 (50) , empl_esta CHAR (1) not null ) ; alter table cl_empleado add constraint cl_empleado_pk primary key ( empl_id ) ; create table cl_estudio ( estu_id NUMBER not null , estu_tipo CHAR (1) not null , estu_desc VARCHAR2 (20) not null , paci_id NUMBER not null ) ; alter table cl_estudio add constraint cl_estudio_pk primary key ( estu_id ) ; create table cl_historial ( hist_id NUMBER not null , hist_tens NUMBER , hist_pres NUMBER , hist_ritm NUMBER , hist_temp NUMBER , hist_freg DATE not null , hist_moti VARCHAR2 (50) , hist_esta CHAR (1) not null ) ; alter table cl_historial add constraint cl_historial_pk primary key ( hist_id ) ; create table cl_paciente ( paci_id NUMBER not null , tdoc_id NUMBER not null , paci_docu VARCHAR2 (50) not null , paci_nomb VARCHAR2 (50) not null , paci_apel VARCHAR2 (50) not null , paci_fnac date, paci_telf VARCHAR2 (20) , paci_dire VARCHAR2 (50) , paci_esta CHAR (1) not null ) ; alter table cl_paciente add constraint cl_paciente_pk primary key ( paci_id ) ; create table cl_tipodocumento ( tdoc_id NUMBER not null , tdoc_nomb varchar2(30) not null ) ; alter table cl_tipodocumento add constraint cl_tipodocumento_pk primary key ( tdoc_id ) ; create table cl_usuario ( user_id NUMBER not null , user_user VARCHAR2 (30) not null , user_pass VARCHAR2 (30) not null , user_esta CHAR (1) not null , empl_id NUMBER not null ) ; alter table cl_usuario add constraint cl_usuario_pk primary key ( user_id ) ; alter table cl_antecedente add constraint cl_antecedente_cl_paciente_fk foreign key ( paci_id ) references cl_paciente ( paci_id ) not deferrable ; alter table cl_cita add constraint cl_cita_cl_empleado_fk foreign key ( empl_id ) references cl_empleado ( empl_id ) not deferrable ; alter table cl_cita add constraint cl_cita_cl_historial_fk foreign key ( hist_id ) references cl_historial ( hist_id ) not deferrable ; alter table cl_cita add constraint cl_cita_cl_paciente_fk foreign key ( paci_id ) references cl_paciente ( paci_id ) not deferrable ; alter table cl_empleado add constraint cl_empl_cl_tdoc_fk foreign key ( tdoc_id ) references cl_tipodocumento ( tdoc_id ) not deferrable ; alter table cl_estudio add constraint cl_estudio_cl_paciente_fk foreign key ( paci_id ) references cl_paciente ( paci_id ) not deferrable ; alter table cl_paciente add constraint cl_paci_cl_tdoc_fk foreign key ( tdoc_id ) references cl_tipodocumento ( tdoc_id ) not deferrable ; alter table cl_usuario add constraint cl_usuario_cl_empleado_fk foreign key ( empl_id ) references cl_empleado ( empl_id ) not deferrable ; commit; insert into cl_tipodocumento (tdoc_id, tdoc_nomb ) values (1, 'DNI' ); insert into cl_tipodocumento (tdoc_id, tdoc_nomb ) values (2, 'CARNET' ); insert into cl_empleado ( empl_id, empl_esta, empl_nomb, empl_docu, empl_espe, empl_dire, empl_tipo, tdoc_id, empl_apel, empl_fnac, empl_telf ) values ( 1, 'A', 'Nombre 1', '11111111', 'Cardiología', 'Dire 1', 'M', 1, 'Apell. 1', null, '1234567' ); insert into cl_empleado ( empl_id, empl_esta, empl_nomb, empl_docu, empl_espe, empl_dire, empl_tipo, tdoc_id, empl_apel, empl_fnac, empl_telf ) values ( 2, 'A', 'Nombre 2', '22222222', 'Otorrinolaringología', 'Dire 2', 'M', 1, 'Apell. 2', null, '7654321' ); insert into cl_usuario ( user_id, user_user, empl_id, user_esta, user_pass ) values ( 1, 'admin', 2, 'A', 'admin' ); commit; drop sequence cl_tipodocumento_seq; create sequence cl_tipodocumento_seq minvalue 3 maxvalue 999999999999999999999999999 start with 3 increment by 1 cache 20; drop sequence cl_empleado_seq; create sequence cl_empleado_seq minvalue 3 maxvalue 999999999999999999999999999 start with 3 increment by 1 cache 20; drop sequence cl_usuario_seq; create sequence cl_usuario_seq minvalue 2 maxvalue 999999999999999999999999999 start with 2 increment by 1 cache 20; commit; select * from cl_tipodocumento; select * from cl_empleado;
